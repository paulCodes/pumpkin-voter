{% extends "base.html" %}

{% block header %}Pumpkin Voter{% endblock %}

{% block main %}


    <div class="uk-width-1-1">
        <h2>Current Contests</h2>
    </div>
    <div class="uk-overflow-auto">
        <table id="contest-table" class="uk-table uk-table-striped">
            <thead>
            <tr>
                {% for field in stub.AdminListFields() %}
                {% if field.1 != "no-form" %}
                <th class="reorderable" data-name="{{ field.0 }}" data-filter="{{ field.2 }}">{{ stub.GorpTitle(field.0) }}&nbsp;
                    <a id="ecf-open-{{ forloop.Counter0 }}" onclick="openTableHeaderOptions({{ forloop.Counter0 }})" class="btn-table-header">
                        <i class="fa fa-caret-down"></i>
                    </a>
                </th>
                {% endif %}
                {% endfor %}
            </tr>
            </thead>
            <tbody>
        {% for model in models %}
        <tr>
        {% for field in model.AdminListFields() %}
        <td>
            {% trim %}
            {{ model.ByFieldForList(field.0) }}
            {% endtrim %}
        </td>
        {% endfor %}
        </tr>
        {% endfor %}
            </tbody>
        </table>
    </div>



{% endblock %}

{% block body_js %}
<script type="text/javascript">

    $(document).ready(function() {
        $('#contest-table').DataTable();
    } );
</script>
{% endblock %}
